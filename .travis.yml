language: node_js
sudo: required
node_js:
  - '4.3'
  - '7.0'
cache:
  edge: true
  directories:
    - $(npm root -g)
    - node_modules
    - deep_modules
    - $(npm config get prefix)/bin
branches:
  only:
    - master
    - dev
    - stage
    - test
before_install:
  - cp bin/test/package.json .
after_success:
  - npm run coverage
after_script:
  - npm run remove-coverage
env:
  matrix:
    - TEST_SUITE=backend
    - TEST_SUITE=frontend
  global:
    - MAJOR_VERSIONS=master
    - DEEP_NO_INTERACTION=1
    - E2E_TESTING=none
    - secure: 
        UGIDIakeS1Z/zpv+uqU6Zz3n/xU6AVZDxdkYECKoHocviP694EAZBYAkcN9X3V96KdvK9oIy9pyRIsc2v7xNYz2R9vICQxU0rAKHO+SlTKRP+jDX5GIUmWuHiOoyphFZv9/1FLRNYUKdjNLdXIaHu6JnJxWjqFyTg8fWTvuJQhfbT469XpWijRD2zqXJuqWd/NpJYuVHscHbx8m+mmfCETD0cpvYzXzyWYKzOjVn70zdeC0NceesFkeFct+lKsFZvyLJ/x1wwlA8cOYKwAXuAMGJgZGvDIeKrld7ShBq1c7hpyNWddS4e1C1EuMZB2RUn8E1cLjvaeldwg/lsJTf47BtRxNc3dGJ2bXhfyRShwQ/ZaoxWNSYlZCi+RlQVWeNd1vFhrh6DcO+nWG6sersKGsi+VZteIL85riYnI92ZgjQVeaUufW/zfWievuUvXZFq5BmVyduxp5Y4DrU6QYe13wBKmvPFL4xCSOaAxMN1/9iqKPO0JNMm7oXmjsTgdRAqgLgP2Yfk63Klq1WUpRv6TsZRX26abo27CpAC7vTtqCWRzgdN32avandWO90k74wc99CZiVrTIilvFh++l8nLL1BBHQYr9PkKt8bdSNvIIuZw/3TE9Jbz3jgtK0GtTg7kgKtXV4Zpx9fjTbW6CWR5RIailEqHr9fBRnZPsdDEqg=
    - secure: 
        a13+EyLtZFit3aTe95LOIzAZrNGsehXKQJ2Wc/z+Fa+iOao+7Eegop0/cN5Zt2WdyNW/V10KvNsOB1NY8gHV8rfUYoxVaNi9VpF5Ne59/OgpRQtjZ9vpZX/kgDuoRCuVSbMn+Go4FV4/iDQBHn2qFyRZ0fhBDEPNAzp6AW0oLkVlOy7i/zRBivrZcnjaNSrKZwyXYg7xoPmdNiftsjDynwc5UUbg2gl1qJpZnjva3ys+/gWQSDaXcA3BiAHfeOZ+/v+Lg3yr8xdKGf/2ZYYGtlAhM6Q11fj410Vq0j1evLUyod2tKHEW78PHzncMm0WT5xIunga/ZqTEY2OXJ8XJjNpqHt0VhNsdVRR95vjise+nIwvo7Hkabh+sHYKgXfWj/O2Zp3ZqglLFmyGdArYjG2S4vgRQCVvX/vileunwfYdBY6ahlCeGnPhGo62eVniK5VlOcvaFX0FnTuXc6+FptgVI4zLb8v95ZD6YkcQDjRLWi5i9NdPlwjX54cF53UJxpFiQO4ptJiJJqoFQFjtbvXJnzobFNcLcIa9VKYQUqz/TbLliauTh4pbLsf/GvLHAWHNXna4J045cLJWUohcfkCuD2GJ2O23vaOE80totstBMVfrEeru9JOZaxL7se78FSHx+kVnHqnXtAGMGVsEMK2q+hlDEM6O27qaM7aGS+iY=
    - secure: 
        UVJ5W4JcvfbdEhz4zgoU7tLjP+wi8YDafxjPyW5On5zenIr5Rmd+P1xTeqnu6jWCIrZcLfnTU5lUIjq9eitV976c3U4EFox8dEHP9pg8WBPRngTrslkP/xsS9H0W7saibohignvHOJlrUI0R5TYGJZLkkql3VEcp1NXjWac2FwvXG8JkzPEdyx4Di7vAInbTIbB3x8e/ez4bJMMnrs0efr2wJb7ccWmYsbghTeJUwC7VHDloZl6rBvgZgUzwJNr1+k3d8VDO8yyfBDqbvxDx9mJ2R3UX++C4LQaabqCU36b+ThYuyyQX8Rx2ZVGHjVZyod3pAwuvBRXJA1T/iBVbRRpp+wEo9G04TY2Kjhr6gl7O3AhiP9qjG7ljST8hO7SEoZdFIDSwnWbU6NmlG+ETmvqj/86cnbaGF5j+rwtKNvK+RV4SK+SnmZk6DSHD02T23XxSzw912ycupGodVFjrGlr+rrgARcQDv0xEb9EpDtS5fLboL77jlrly3W74fK6WOQ+uiXL97WskxQhM1vHi9z7qPiianhs/AQX+1BCM8J2l+fM+hMYRoPblnUQMWc6MMGG/7ee/1IHdLmRLtxbnZZDT4x3ubU8EyRmDaRi50UtbemwyIza+4DbP8Xal6byF/A5RVegRjbiaggwww5GlDhktAb4QZGyULuMvAtQ/AWQ=
    - secure: 
        iezN3rypYfqf8Tx2MWlpHrL7jAIpShkhyVIrpkG9eFAKMiIEKDZos/EJ+KfOh/j5W4YCgCESkPu1DIwKkUIjo0Nbu7Xf4B/MlzKeZNUM+iDIK+Hyrxqt5/r5igUtPExzzaHeBR166vEKMtesfxBd06+bOBLyuaOSNFL3/d60KGCuvxib072dtsLp71YzeAbkfomB7I+sbhjmKGhW+lHLhWyQ10WMSfbEllKqyWp/hetK+xxMK9pVLv7Sqz33X2UpPEGK9vt37Zi3Z5nDLyRYHFudgcuW9dJR96e109WqTiI23Tfc77OMMY3jgV/60o/YMFSiYdFbeLtTLm7pD54ZFYIQJlbsYaWudr6199SkrVG/FnNN/aaEBJB3D2Lpgs8AhdmNGIPiJPRkWaXMNbhT3FwZXc66mEu+b6GcRaykMgR5vlDmdr0tP9ZmV2VtVBeDisA6sPEVFeErVm+hGcQmT5fr14GCdKic+bXDCeIzA61ujVh1D6qwqUYT6qur9IoSIEZ39RnNQXHfQEaw97WIlq9Dds2Cs4wZH12In67rbh60rn2x02rWk087XhogH51wlhF6Hc/sh/4GNoOWfEBhGjekGnsxHbCTE4FB6v13Cgye2+buPWOypZuiubLhkPz6qAYjivzTQAh3ie5GPkKnHzmXusu1di/2kvXX78cOQLc=
    - secure: 
        XVxl7ECpnUCMNju/R9gco/kVLmdLRpaSyeuIfDfiyV0ukjqU1YD8jrsB1bGQ5PWnvBkSSr/In/FRfuNw3tqE+loqnIfIjwOnx3YlUrgZ7Lz/e1Jg4ptMWnnT4F6P+t26VTkzavqCrSL4MijOSOjaaERGfFNAgRchbbmrPGCuWvWshLxbrzIn7X/9i9RrdhmqtYBgxT8JBcCjRHB1JHwviROn+k2UR97yzGTn7M0fN7I58fYNfw51Rd+VUtc1ilY1SrRGHr5P+L1PgOiZ0ILCUmlWLn02aAg6bAWp70I7x1ytDnctx4yLusqDLR9B6j/ZTopPiGlct2xqYJFT6/9J70FzIIa3m/ttcWHWH+qZne/npH3r6ZhWmWI93DAa40WufpyXG/PQyhDXpxMynIbXklIQ5d/bZp7ib6iNVWJQvgghw2+dzjzhuuNUOAwA1wWWdPgAcuBTYE1kIWuWSNYofi5TiWx36Z4dMMvZhIr2JK78ywrOWpp8MqMoppKWZdSrUV8dKvzPVCYNZyGcLXX23uelu2dN+cIglMILRpGqYyYisHGVy9qAHNAljg632uuQbhm4M18GGg+YwyYktx9Z4fNA8f/w/kxj9eA0Lw5GwNaC2gstkqEAaVgEmeNQHZFAcSQYLJotyIVF+2+svxrCiKZi0/BvfFs2Kzdiu/c/GdI=
    - secure: 
        lNvzVoLzDbGBw58otFMXn1UQyK+VftI3kWUJmvpE8NT5/K2V4UJ93ix8sNRKeZw6mYLdyalRW86YszrloQG+JVYe9ZaD/GYrpM8I0RlZkOVqzWIllDnbmUM8bJvqWS97R/O3QTQtUYQinffyW1VQOPOF+VEBJzZUS5aQIEfUirpnm2RqY/0CM1bf1KVrJLNgpDGPkbNQuGD3hQYyj/kf3w0v9UVaIoEROR0DEFHI/2msX4WPx0CUK5Ds4Ex9xu1qyhoo59KMLzYDJy1IgOHvQiVvKYEx2+o+zdYYXoM/fzvPkQMsDJwbcyUTLBzQyRaQnGldT6XbDRhpfyOjqYDvrGt7QD8A34AJaKAh/fTYrq/JSgigLA4PRAEUZYs7l+G6yvtDrdmSE/vka43x84sQYf24ExD2jaAAKcyjWaFPhlewydX5erz57ar5x0V+Ea/Ch8Ni0eIrw9JZ2nDG230m7FLhoJVP88wg9jLL17PySdoYTSKXiBTlXbRN2jwuY1WStKTCcx+TuNm84GuAwhxje874Hk6r4yfGCQFjFHf4eXJ8iP+i3sX0/JKpUD3hR2BpTLXNoo5IbCFt8qeMeSTpk5sL1uSGxBMBDKtGCDAx7BUDKDGaTqe/hAGB4+BzRJecireF+QHsuxDy5RmKiiCsaxufrdhiEzS6xedYlRXexy4=
    - secure: 
        nTZU2JKgngfQ6ET8o6HoRlKtJtKjN06lLJTU639ZH/yfhhFAF+8Nw8xPKUkmnDZWvkqiqMScYo6L91MdEnRJYQ1W90T1BHUNaZrrr0iLA3gg+w0t2rDbhMcD60u/PW4KaHo3XnrlZKtK8d7a537MQGmOjIZW6GxmDGjYMrimveIfxkl8FT08ht3H6n3PrwaSU6WieDn415mNrYo2/QHCzmf+UfzwLMMSq1unQFNTqC9UvenvMdCwnImripPKo0rSIJqBbR5ZdnTzcQfxQVOkeJIP6MeJQl/Jz306MUP1zZ2AiMXPlJl0E5VD39inz9msvFHrCSY0coK2uLOUR2YpRxdxvUkMpWeFv7s+fCenxdBfVvLXhwtVjfZT+wgX0K5+NrAQwSrF/NovmmNmK0aqDsGe6gdxlZ33gv13fhhlthIz6BLlzqCI9y9q/0AwpkOHoHwjiZ8QzkXxYoXYHvSlyyh6/XCfNcVBxVAhPEVkDk9DqzPdTWJFlPpxBFSpzgfFjoMEEvU5WOzPuaOzn9x7BTHZlr01MUOXpdEP+TZhTmZYRhprbSk39vGxfF3/s/VljpecZD8e/faJOw17md80HcDlqq10CyWyTioKm6P217/eoig6Cxfr1n79O9buudaS1qTnjk+Fzls66DLBh6KHxTCJOjn9TcoOKhfFv9UHqx4=
    - secure: 
        jSpJi7K6Mq7UAQPXXXsOFc13oMi1N+S9hT5SW81O8tyUEyTW81Yf+QTFpCURMgs0LvFRJVejGL4MXsdiRGTzFdFC5cZVRNIHf0btz2TQLeYwRu2PzLphFhdUSxT6JfY1vxgJciCYs+pBgKRjEtYWFCwK8HFX2/T/vvB7Bv4wboFUCMZPehyQMJ3b78UitMGB/TneNJsdCxTXj2hWnbqVgMuaG470hPoE23EiwAKxIM708BtH+OJPe3p6lraXlORxndFOOiLk21n4FuQ7KKzy+xI3dnW7C9TZmhRmJXoksDyG8vrh9QjGod5tlo7taMVaZeLtJYSHKsKeyg5m7quA+z5/albGuFuv8TwwquYvFDMpPWc8d0Qulb0LoyK/g8kCVu/2ApymALdlA57TSoJ4E7gPezEVR1XKHNUOoWa1r2PO59rB7zgBVjJcE3t48HTHQ69tm4KdE9MrntRxnaex28DLYPKBe2/b/iULd4/sCLxb2xctA5l4M6/rSb1ZX4wXDyVS2VgOuxVWiJZpkb0fRHS90ekFlfX3lAiiNUczwj/gT+v8hVt6CRFS2KGqMLbxZpCHJylCHHRsYQBjO/99RFr6XtZHlnY4fqi+hXcoR7kZgTBWcku3eDFBmDRUSLoNUIfmh0Yha4ny7M7pgggQ1kstpgHv9F5rtSG6dCp1nS4=
notifications:
  slack:
    secure: 
      Jw/gODJtuodDzIomvnCvXFdYnXjUUG+h6mKJj4AGtBqdfKGJn9XlLseHV3GGWvGr5DoMR2eIHwLOachuLLl5WuHE+g3xgpSqXzc4JCPFntnDf9f//YKuXkH40S1pGhdoJ1/S+QEonoIsvuNsFqbDwiltm7UhWZ3Eup43V4HoZafsZvbg2GyJimVi3db0+8r00zwLmJov0bKXzxESnPS85jDFG0trUjTHQWKAdCSeklEl8ZPH56PZ/wixBAueWVmijDR5JPkYClNkM+J1V+vB5iXWZp988ecV56K6j4pkJVbOjLl+r9whBtScJCtE0Bbhc2kdczXIxmkEnZZffUwP945g43nC3a9yT9itT8IZJV7IK/T75CgRxndQAyVp0C2DVfqWEJZD9pkDb8Ww22WegQhh0AIek5bEnFNmMRiWTWUWBEBStzB8IL925pI5WfppoMklNDrg9qUMrAs/UBAlAARExoho9OXJbWJ+9cg4eS8Um81G2atOrb3tfMr2z2i4eL0RbW7CWwjFIKw+FEJh2W9WCiUsnwJYp8BP6BFDLhiHEIEiPzGKpkEl39iQNgHOXzPB7CgFL7y93KkSz/MUBNMsZplYzi6wbpqAdgTcriZbL7bgMV9uEdlcbhmokxcnIU6L2FDqPty2EUsDd6eMPk8AV8qqC17qbn5Hsp4zFBA=
